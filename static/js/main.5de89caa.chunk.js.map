{"version":3,"sources":["StateProvider.js","components/HeaderComponent/HeaderComponent.js","components/ProductComponent/ProductComponent.js","components/HomeComponent/HomeComponent.js","components/SubtotalComponent/SubtotalComponent.js","components/CheckoutProduct/CheckoutProduct.js","components/CheckoutComponent/CheckoutComponent.js","firebase.js","axios.js","components/CheckoutPayment/CheckoutPayment.js","components/LoginComponent/LoginComponent.js","OrderComp/OrderComp.js","Orders/Orders.js","App.js","serviceWorker.js","reducer.js","index.js"],"names":["StateContext","createContext","StateProvider","reducer","initialState","children","Provider","value","useReducer","useStateValue","useContext","HeaderComponent","ProductComponent","id","title","rating","imgs","price","dispatch","basket","className","Array","fill","map","_","i","src","onClick","type","item","image","HomeComponent","SubtotalComponent","state","totalPrice","b","history","useHistory","renderText","Fragment","length","decimalScale","displayType","thousandSeperator","perfix","e","push","CheckoutProduct","rem","console","log","CheckoutComponent","user","email","key","db","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","auth","instance","axios","create","baseUrl","CheckoutPayment","stripe","useStripe","elements","useElements","useState","error","setError","disabled","setDisabled","processing","setProcessing","succeeded","setSucceeded","clientSecret","setClientSecret","useEffect","a","method","url","response","data","getClientSecret","handleSubmit","event","preventDefault","confirmCardPayment","payment_method","card","getElement","CardElement","then","paymentIntent","collection","doc","uid","set","amount","created","replace","Date","items","onSubmit","onChange","empty","message","LoginComponent","setEmail","password","setPassword","to","target","signInWithEmailAndPassword","catch","createUserWithEmailAndPassword","alert","OrderComp","order","moment","unix","format","Orders","orders","setOrders","orderBy","onSnapshot","snapshot","docs","promise","loadStripe","App","onAuthStateChanged","authUser","path","Boolean","window","location","hostname","match","action","index","findIndex","basketItem","newBasket","splice","warn","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.5de89caa.chunk.js","sourcesContent":["import React, {createContext , useContext ,useReducer} from \"react\";\r\n\r\nexport const StateContext = createContext();\r\n\r\n//Wrap app and provide data layer\r\nexport const StateProvider = ({reducer , initialState, children}) => (\r\n    <StateContext.Provider value={useReducer(reducer,initialState)} >\r\n    {children}\r\n    </StateContext.Provider>\r\n    );\r\n\r\n    //pull info from data layer\r\nexport const useStateValue = () => useContext(StateContext);","import React from 'react';\r\nimport './HeaderComponent.css'\r\nimport ShoppingBasketIcon from '@material-ui/icons/ShoppingBasket';\r\nimport { Link } from 'react-router-dom';\r\nimport { useStateValue } from '../../StateProvider';\r\nimport { auth } from 'firebase';\r\n\r\nconst HeaderComponent = () => {\r\n  const [state,dispatch] = useStateValue();\r\n  const handleAuthentication=() =>{\r\n    if(state.user){\r\n      auth().signOut();\r\n    }\r\n  }\r\n  return(\r\n           // BEM Convention\r\n    <div className=\"header\">\r\n      <div className=\"header__nav\">\r\n      <div className=\"header__search\">\r\n        <Link to=\"/\">\r\n          <img\r\n          className=\"header__logo\"\r\n          src=\"https://cdn.logo.com/hotlink-ok/logo-social.png\"\r\n          />\r\n        </Link>  \r\n          <input\r\n          className=\"header__searchInput\" type=\"text\" placeholder=\"Search\"/>\r\n        </div>\r\n        <Link to={!state.user && \"/login\"}> \r\n            <div onClick={handleAuthentication} className=\"header__component\">\r\n              <span className=\"header__optionLineOne\">\r\n              Hello {state.user?state.user.email:\"Guest\"}\r\n              </span>\r\n              <span className=\"header__optionLineTwo\">\r\n      {state.user?'Sign Out' : 'Sign In'}\r\n              </span>\r\n            </div>\r\n        </Link>\r\n        <Link to=\"/orders\">\r\n          <div className=\"header__component\">\r\n          <span className=\"header__optionLineOne\">\r\n              Return\r\n            </span>\r\n            <span className=\"header__optionLineTwo\">\r\n              Order\r\n            </span>\r\n          </div>\r\n        </Link>\r\n        <div className=\"header__component\">\r\n        <span className=\"header__optionLineOne\">\r\n            Run\r\n          </span>\r\n          <span className=\"header__optionLineTwo\">\r\n            Prime\r\n          </span>\r\n        </div>\r\n\r\n        <div className=\"header__component\">\r\n       <Link to=\"/checkout\"><ShoppingBasketIcon/> \r\n  <div className=\"header__BasketCount\">{state.basket?.length}</div>\r\n       </Link>\r\n       </div>\r\n      </div>\r\n  </div>\r\n    )\r\n}\r\n\r\nexport default HeaderComponent;\r\n","import React from 'react'\r\nimport './ProductComponent.css'\r\nimport { useStateValue } from '../../StateProvider'\r\n\r\nexport default function ProductComponent({id,title,rating,imgs,price}) {\r\n    const [{basket},dispatch] = useStateValue();\r\n\r\n    const addToBasket =() =>{\r\n    dispatch({\r\n        type:\"ADD_TO_BASKET\",\r\n        item:{\r\n            id:id,\r\n            title:title,\r\n            image:imgs,\r\n            price:price,\r\n            rating:rating,\r\n        },\r\n    });\r\n  }\r\n    return (\r\n        <div className=\"product\">\r\n            <div className=\"product__info\">\r\n                <p>{title}</p>\r\n                <p className=\"product__price\"> \r\n                <small>$</small>\r\n                <strong>{price}</strong> \r\n                </p>\r\n                <div className=\"product__rating\">\r\n                   {Array(rating).fill().map((_,i) => (\r\n                       <p>⭐</p>\r\n                   ))}\r\n                    \r\n                </div>\r\n                <img src={imgs} />\r\n            \r\n                <button onClick={addToBasket}>Add To Basket</button>\r\n            </div>            \r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport './HomeComponent.css'\r\nimport ProductComponent from '../ProductComponent/ProductComponent'\r\nconst HomeComponent = () =>{\r\n    return(\r\n        <div className=\"home\">\r\n            <div className=\"home_container\">\r\n                <img className=\"home__image\" src=\"https://images-eu.ssl-images-amazon.com/images/G/31/img20/Wireless/Xiaomi/Redmi_Note9Pro_Max/Available_Now/Per_Daycallout/TallHero_1500X600_1._CB405352815_.jpg\" />\r\n            </div>\r\n\r\n            <div className=\"home__row\">\r\n            <ProductComponent\r\n            id={1}\r\n            title=\"Harry Poter and Chamber of Secrets\"\r\n            rating={5}\r\n            imgs=\"https://i.gr-assets.com/images/S/compressed.photo.goodreads.com/books/1499277281l/5.jpg\"\r\n            price={5.00}\r\n            />\r\n            <ProductComponent\r\n            id={2}\r\n            title=\"Harry Poter and Goblet of Fire\"\r\n            rating={4}\r\n            imgs=\"https://encrypted-tbn0.gstatic.com/shopping?q=tbn:ANd9GcSJYzqovZJpVWpdC_iV7V2chXWpNhXp-LBZk2-1wf12JvRAmfa7S2wBs1q30zwY4pCQvcnGGiBegHVxxTrvXpj3TTVf7yxY4Gc-JOMzo2T6&usqp=CAc\"\r\n            price={4.50}\r\n            />\r\n            </div>\r\n            <div className=\"home__row\">\r\n            <ProductComponent\r\n            id={3}\r\n            title=\"The Hitchhikers guide to galaxy\"\r\n            rating={3}\r\n            imgs=\"https://api.time.com/wp-content/uploads/2014/10/hitchhiker-s-guide-douglas-adams-657242_451_700.jpg\"\r\n            price={13.95}\r\n            />\r\n            <ProductComponent\r\n            id={1}\r\n            title=\"Harry Poter and the Half blood prince\"\r\n            rating={5}\r\n            imgs=\"https://encrypted-tbn3.gstatic.com/shopping?q=tbn:ANd9GcQoZAtB1KYQJD99MqZjkDkEEV-18wnxxeMuwfm0Ol1-8KjxWDTeJIlzBPJSMuW7hWASeiKKF7HqCU5sdxxHt0lyocoBHpBKD0u6qyZvb4x6ThpXoH8WG6fjIg&usqp=CAc\"\r\n            price={5.00}\r\n            />\r\n            <ProductComponent\r\n            id={3}\r\n            title=\"Harry Poter and the Deathly Hollows\"\r\n            rating={5}\r\n            imgs=\"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcSjwEQPisHrYkTZ_8jdczZ-8kBvB7NF9kfISA&usqp=CAU\"\r\n            price={5.00}\r\n            />\r\n            </div>\r\n            <div className=\"home__row\">\r\n            <ProductComponent\r\n             id={3}\r\n             title=\"Harry Poter and the Order of the Pheonix\"\r\n             rating={5}\r\n             imgs=\"https://m.media-amazon.com/images/I/51-SI2+aQ2L.jpg\"\r\n             price={5.00}\r\n             />\r\n\r\n            </div>\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default HomeComponent;","import React from 'react'\r\nimport './SubtotalComponent.css'\r\nimport CurrencyFormat from 'react-currency-format'\r\nimport { Button } from '@material-ui/core'\r\nimport { useStateValue } from '../../StateProvider'\r\nimport { useHistory } from 'react-router-dom'\r\nexport default function SubtotalComponent() {\r\n    const [state,dispatch] = useStateValue();\r\n    let totalPrice = 0 ;\r\n    state.basket.map(b =>{\r\n        totalPrice += b[\"price\"];\r\n    })\r\n    const history = useHistory();\r\n    \r\n    return (\r\n        <div className=\"subtotal\"> \r\n            <CurrencyFormat\r\n            renderText={(value) => (\r\n                <React.Fragment>\r\n                    <p>\r\n                        Subtotal ({state.basket?.length} items) : <strong>{totalPrice}</strong>\r\n                    </p>\r\n                    <small className=\"suntotal__gift\">\r\n                        <input type=\"checkbox\"/>This Order Contains a Gift\r\n                    </small>\r\n                </React.Fragment>\r\n            )}\r\n            decimalScale={2}\r\n            value={totalPrice}\r\n            displayType = {\"text\"}\r\n            thousandSeperator = {true}\r\n            perfix={\"$\"}\r\n            />\r\n            <button onClick={e=> history.push('./payment')}>Proceed To Checkout</button>\r\n        </div>\r\n    );\r\n}\r\n","import React from 'react'\r\nimport './CheckoutProduct.css'\r\nimport { useStateValue } from '../../StateProvider'\r\nimport FlipMove from 'react-flip-move'\r\nexport default function CheckoutProduct({id,imgs,title,price,rating,rem}) {\r\n    const [{basket},dispatch] = useStateValue();\r\n\r\n\r\n    const removeFromBasket=() =>{\r\n        dispatch({\r\n            type: 'REMOVE_FROM_BASKET',\r\n            id:id,\r\n        })\r\n}\r\n    return (\r\n     \r\n            <div className=\"checkoutProduct\">\r\n                {console.log(id,imgs,title,price,rating)}\r\n                <img className=\"checkoutProduct__image\" src={imgs}/>\r\n\r\n                <div className=\"checkoutProduct__info\">\r\n                    <p className=\"checkoutProduct__title\">{title}</p>\r\n                    <p className=\"checkoutProduct__price\">\r\n                        <small>$</small>\r\n                        <strong>{price}</strong>\r\n                    </p>\r\n                    <div className=\"checkoutProduct__rating\">\r\n                        {Array(rating).fill().map((_,i)=><p>⭐</p>)}\r\n                    </div>\r\n                    {rem?\"\" :<button onClick={removeFromBasket}> Remove</button>\r\n                    }\r\n                 </div>\r\n            </div>\r\n       \r\n    )\r\n}\r\n","import React from 'react'\r\nimport './CheckoutComponent.css'\r\nimport SubtotalComponent from '../SubtotalComponent/SubtotalComponent'\r\nimport { useStateValue } from '../../StateProvider'\r\nimport CheckoutProduct from '../CheckoutProduct/CheckoutProduct'\r\nimport FlipMove from 'react-flip-move'\r\nexport default function CheckoutComponent() {\r\n   const [{basket,user},dispatch] = useStateValue();\r\n    return (\r\n        <div className=\"checkout\">\r\n            <div className=\"checkout__left\">\r\n                <img className=\".checkout__ad\"\r\n                src=\"\" />\r\n                    <div>\r\n                        <h3>Hello, {user? user.email:\"Guest\"} </h3>\r\n                        <h2 className=\"checkout__title\">Your Shopping Basket</h2>\r\n                        {/* <FlipMove> */}\r\n                            {\r\n                                basket.map((item,i)=>(\r\n                                    <CheckoutProduct\r\n                                        key={i}\r\n                                        id={item[\"id\"]}\r\n                                        title = {item[\"title\"]}\r\n                                        rating={item[\"rating\"]}\r\n                                        imgs={item[\"image\"]}\r\n                                        price={item[\"price\"]}\r\n                                    />\r\n                                    )\r\n                                )\r\n                            }\r\n                        {/* </FlipMove> */}\r\n                    </div>\r\n             </div>\r\n                    <div className=\"checkout__right\">  \r\n                        <SubtotalComponent/>\r\n                    </div>\r\n            \r\n        </div>\r\n    )\r\n}\r\n","import firebase from 'firebase';\r\n\r\nvar firebaseConfig = {\r\n    apiKey: \"AIzaSyDMBxmB570zoKQlikkXz2uXeoD_MyXvcPM\",\r\n    authDomain: \"e-commerce-39de8.firebaseapp.com\",\r\n    databaseURL: \"https://e-commerce-39de8.firebaseio.com\",\r\n    projectId: \"e-commerce-39de8\",\r\n    storageBucket: \"e-commerce-39de8.appspot.com\",\r\n    messagingSenderId: \"569559037126\",\r\n    appId: \"1:569559037126:web:e52d10aa2c1f29100d13c7\",\r\n    measurementId: \"G-VCVBC7YEGX\"\r\n};\r\n  // Initialize Firebase\r\n\r\n  const firebaseApp =  firebase.initializeApp(firebaseConfig);\r\n  const db = firebaseApp.firestore();\r\n  const auth = firebase.auth();\r\n\r\n  export {db,auth};","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    baseUrl: 'http://localhost:5001/e-commerce-39de8/us-central1/api'  //The Cloud Function\r\n});\r\n\r\nexport default instance;","import React, { useState,useEffect } from 'react'\r\nimport './CheckoutPayment.css'\r\nimport {db} from '../../firebase'\r\nimport { useStateValue } from '../../StateProvider'\r\nimport CheckoutProduct from '../CheckoutProduct/CheckoutProduct';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport {CardElement,useStripe, useElements} from '@stripe/react-stripe-js'\r\nimport CurrencyFormat from 'react-currency-format';\r\nimport axios from '../../axios';\r\n\r\n\r\nfunction CheckoutPayment() {\r\n    const history = useHistory();\r\n    const stripe = useStripe();\r\n    const elements = useElements();\r\n    const [{basket,user},dispatch] = useStateValue();\r\n    const [error,setError] = useState(null);\r\n    const [disabled,setDisabled] = useState(false);\r\n    const [processing,setProcessing] = useState(false);\r\n    const [succeeded,setSucceeded] = useState(false);\r\n    const [clientSecret,setClientSecret] = useState(true);\r\n \r\n    \r\n    \r\n    let totalPrice = 0 ;\r\n    basket.map(b =>{\r\n        totalPrice += b[\"price\"];\r\n    })\r\n\r\n\r\n    useEffect(() => {\r\n        const getClientSecret = async () => {\r\n            const response= await axios({\r\n                method: 'post',\r\n                url: `http://localhost:5001/e-commerce-39de8/us-central1/api/payments/create?total=${totalPrice * 100}`\r\n            });\r\n            setClientSecret(response.data.clientSecret);\r\n        }\r\n\r\n        getClientSecret();\r\n    }, [basket])\r\n\r\n    const handleSubmit = async (event) => {\r\n        console.log(clientSecret)\r\n        // do all the fancy stripe stuff...\r\n        event.preventDefault();\r\n        setProcessing(true);\r\n        try{\r\n        const payload = await stripe.confirmCardPayment(clientSecret, {\r\n            payment_method: {\r\n                card: elements.getElement(CardElement)\r\n            }\r\n        }).then(({ paymentIntent }) => {\r\n            // paymentIntent = payment confirmation\r\n            db\r\n              .collection('users')\r\n              .doc(user?.uid)\r\n              .collection('orders')\r\n              .doc(paymentIntent.id)\r\n              .set({\r\n                  basket: basket,\r\n                  amount: paymentIntent.amount,\r\n                  created: paymentIntent.created\r\n              })\r\n\r\n              \r\n            setSucceeded(true);\r\n            setError(null)\r\n            setProcessing(false)\r\n\r\n            dispatch({\r\n                type: 'EMPTY_BASKET'\r\n            })\r\n\r\n            history.replace('/orders')\r\n        })\r\n    }\r\n    catch(err){\r\n\r\n        console.log(err)\r\n        db\r\n              .collection('users')\r\n              .doc(user?.uid)\r\n              .collection('orders')\r\n              .doc(Date())\r\n              .set({\r\n                  basket: basket,\r\n                  amount: totalPrice,\r\n                  created: Date(),\r\n              })\r\n\r\n              \r\n            setSucceeded(true);\r\n            setError(null)\r\n            setProcessing(false)\r\n\r\n            dispatch({\r\n                type: 'EMPTY_BASKET'\r\n            })\r\n\r\n            history.replace('/orders')\r\n    }\r\n\r\n\r\n    }\r\n\r\n    const handleChange= e =>{\r\n\r\n        setDisabled(e.empty);\r\n        setError(e.error ? e.message : \" \")\r\n    }\r\n\r\n\r\n \r\n \r\n\r\n\r\n    return (\r\n        <div className=\"payment\">\r\n            <div className=\"payment__container\">\r\n                {/* Payment Section - dilevery address */}\r\n                <h1>\r\n                    Checkout (\r\n                        {/* <Link to=\"/checkout\">{basket?.length items}</Link> */}\r\n                    )\r\n                </h1>\r\n                <div className=\"payment__section\">\r\n                    <div className=\"payment__title\">\r\n                        <h3>Delivery Adress</h3>\r\n                    </div>\r\n                    <div className=\"payment__address\">\r\n                        <p>{user?user.email:\"Guest\"}</p>\r\n                        <p>43,Privet Drive</p>\r\n                        <p>The Wizarding World</p>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Payment Section - Review Items */}\r\n                <div className=\"payment__section\">\r\n                    <div className=\"payment__title\">\r\n                        <h3>Review Items And Delivery</h3>\r\n                    </div>\r\n                    <div className=\"payment__items\">\r\n                        {\r\n                            basket.map((items,i) => (\r\n                            <CheckoutProduct\r\n                            key={i}\r\n                            id = {items.id}\r\n                            title = {items.title}\r\n                            imgs={items.image}\r\n                            price={items.price}\r\n                            rating={items.rating}\r\n                            />\r\n                            ) )\r\n\r\n                        }\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Payment Section - Payment Method */}\r\n            \r\n                <div className=\"payment__section\">\r\n                    <div className=\"payment__title\">\r\n                        <h3>Payment Details</h3>\r\n                    </div>\r\n                    <div className=\"payment__details\">\r\n\r\n                       <form onSubmit={handleSubmit}>\r\n                           <CardElement onChange={handleChange} /> \r\n                     \r\n                            <div className=\"payment__priceContainer\">\r\n                            <CurrencyFormat\r\n            renderText={(value) => (\r\n                <React.Fragment>\r\n                    <h3>\r\n                        Order Total: {value}\r\n                    </h3>\r\n                </React.Fragment>\r\n            )}\r\n            decimalScale={2}\r\n            value={totalPrice}\r\n            displayType = {\"text\"}\r\n            thousandSeperator = {true}\r\n            perfix={\"$\"}\r\n            />\r\n            <button disabled={processing || disabled || succeeded}>\r\n            <span>{processing ? <p>Processing</p> : \"Buy Now\"}</span>\r\n            </button>\r\n                            </div>\r\n\r\n                            {error && <div>{error}</div>}\r\n                       </form>\r\n\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CheckoutPayment\r\n","import React, { useState } from 'react'\r\nimport './LoginComponent.css'\r\nimport { Link,useHistory } from 'react-router-dom'\r\nimport { auth } from 'firebase';\r\n\r\nfunction LoginComponent() {\r\n    const history = useHistory();\r\n    const [email,setEmail] = useState('');\r\n    const [password,setPassword] = useState('');\r\n\r\n    const signIn= (e) =>{\r\n        e.preventDefault();\r\n        //Login\r\n        auth().\r\n            signInWithEmailAndPassword(email,password)\r\n            .then(user =>{\r\n                history.push(\"/\")\r\n            })\r\n            .catch(error => console.log(error))\r\n            \r\n\r\n    }\r\n\r\n    const signUp= (e) =>{\r\n        e.preventDefault();\r\n        //Register\r\n        auth()\r\n        .createUserWithEmailAndPassword(email,password)\r\n        .then((user) => {//user === auth\r\n            console.log(user)\r\n            if(user){\r\n                history.push('/')\r\n            }\r\n        }).catch(error => alert(\"error\"))\r\n            \r\n    }\r\n    \r\n    return (\r\n        \r\n\r\n        <div className=\"login\">\r\n            <Link to=\"/\">\r\n                <img \r\n                className=\"login__logo\"\r\n                src=\"https://www.humanrightslogo.net/sites/default/files/HRLogoCMYKsmallRGB.png\"/>\r\n            </Link>\r\n\r\n            <div className=\"login__container\">\r\n                <h1>Sign-In</h1>\r\n                <form>\r\n                    <h5>Email : </h5>\r\n                    <input value={email} onChange={e=>setEmail(e.target.value)} type=\"text\" />\r\n\r\n                    <h5>Password : </h5>\r\n                    <input value={password} onChange={e=>setPassword(e.target.value)} type=\"password\" />\r\n\r\n                    <button onClick={signIn} className=\"login__signinButton\">Sign In</button>\r\n                </form>\r\n                <p>By Signing in you agree that you're Awesome.</p>\r\n                <button onClick={signUp} className=\"login__registerButton\">Create Your Account</button>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LoginComponent\r\n","import React from 'react'\r\nimport './OrderComp.css'\r\nimport moment from 'moment'\r\nimport CheckoutProduct from '../components/CheckoutProduct/CheckoutProduct'\r\n\r\n\r\nfunction OrderComp({order}) {\r\n    return (\r\n        <div className=\"orderComp\"> \r\n            <h2>Order</h2>\r\n            <p>{moment.unix(order.data.created).format(\"MMMM Do YYYY, h:mma\")} </p>            \r\n            <p className=\"order__id\">\r\n                <small>{order.id}</small>\r\n            </p>\r\n            {order.data.basket?.map(item => (\r\n                <CheckoutProduct\r\n                id = {item.id}\r\n                title = {item.title}\r\n                rating ={item.rating}\r\n                imgs={item.image}\r\n                price={item.price}\r\n                rem={true}\r\n                />\r\n            ))}\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\n export default OrderComp\r\n","import React, { useState, useEffect } from 'react'\r\nimport './Orders.css'\r\nimport { db } from '../firebase';\r\nimport OrderComp from '../OrderComp/OrderComp'\r\nimport { useStateValue } from '../StateProvider';\r\n\r\n\r\nfunction Orders() {\r\n    const [orders,setOrders] = useState([]);\r\n    const [{basket,user},dispatch] = useStateValue()\r\n    useEffect(() => {\r\n        if(user){\r\n            db\r\n            .collection('users')\r\n            .doc(user?.uid)\r\n            .collection('orders')\r\n            .orderBy('created','desc')\r\n            .onSnapshot(snapshot => {\r\n                setOrders(snapshot.docs.map(doc => ({\r\n                    id:doc.id,\r\n                    data:doc.data()\r\n                })))\r\n            })\r\n    \r\n        }\r\n        else{\r\n            setOrders([])\r\n        }\r\n    },[user])\r\n    return (\r\n        <div className=\"orders\">\r\n            <h1>Your Orders</h1>\r\n\r\n            <div className=\"orders__order\">\r\n                {orders?.map(order => (\r\n                    <OrderComp order={order}/>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Orders\r\n","import React, { useEffect } from \"react\";\nimport \"./App.css\";\nimport HeaderComponent from \"./components/HeaderComponent/HeaderComponent\";\nimport HomeComponent from \"./components/HomeComponent/HomeComponent\";\nimport CheckoutComponent from \"./components/CheckoutComponent/CheckoutComponent\";\nimport { HashRouter as Router, Switch, Route } from \"react-router-dom\";\nimport CheckoutPayment from \"./components/CheckoutPayment/CheckoutPayment\";\nimport LoginComponent from \"./components/LoginComponent/LoginComponent\";\nimport { auth } from \"./firebase\";\nimport { useStateValue } from \"./StateProvider\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport { Elements } from \"@stripe/react-stripe-js\";\nimport Orders from \"./Orders/Orders\";\n\nconst promise = loadStripe(\n\t\"pk_test_51HPvTlAjOMRbAmPkJYurzpFfln91kYehReicDEkCDvKBmbANDmaZHDPK4Nz64F8MPCV9cxf9zXoFhOPGJ41IGqDu00yAw7oziK\",\n);\n\nfunction App() {\n\tconst [state, dispatch] = useStateValue();\n\tuseEffect(() => {\n\t\tauth.onAuthStateChanged((authUser) => {\n\t\t\tconsole.log(\"The USer is   \", authUser);\n\n\t\t\tif (authUser) {\n\t\t\t\t//The User Just Logged in / The user was logged in\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"SET_USER\",\n\t\t\t\t\tuser: authUser,\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t//The User is Logged Out\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"SET_USER\",\n\t\t\t\t\tuser: null,\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}, []);\n\n\treturn (\n\t\t<Router>\n\t\t\t<React.Fragment>\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route path=\"/login\">\n\t\t\t\t\t\t<LoginComponent />\n\t\t\t\t\t</Route>\n\n\t\t\t\t\t<Route path=\"/payment\">\n\t\t\t\t\t\t<HeaderComponent />\n\t\t\t\t\t\t<Elements stripe={promise}>\n\t\t\t\t\t\t\t<CheckoutPayment />\n\t\t\t\t\t\t</Elements>\n\t\t\t\t\t</Route>\n\n\t\t\t\t\t<Route path=\"/checkout\">\n\t\t\t\t\t\t<HeaderComponent />\n\t\t\t\t\t\t<CheckoutComponent />\n\t\t\t\t\t</Route>\n\n\t\t\t\t\t<Route path=\"/orders\">\n\t\t\t\t\t\t<HeaderComponent />\n\t\t\t\t\t\t<Orders />\n\t\t\t\t\t</Route>\n\n\t\t\t\t\t<Route path=\"/\">\n\t\t\t\t\t\t<HeaderComponent />\n\t\t\t\t\t\t<HomeComponent />\n\t\t\t\t\t</Route>\n\t\t\t\t</Switch>\n\t\t\t</React.Fragment>\n\t\t</Router>\n\t);\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","export const initialState = {\r\n    basket: [],\r\n    user: null,\r\n};\r\n\r\n//Selector\r\n// export const getBasketTotal = (basket) =>{\r\n//     basket?.reduce((amount,item) => item.price+amount,0);\r\n// }\r\n\r\nconst reducer = (state, action) => {\r\n    console.log(state);\r\n    switch(action.type) {\r\n        case 'ADD_TO_BASKET':\r\n            return {\r\n                ...state,\r\n                basket: [...state.basket, action.item]\r\n            };\r\n\r\n        case 'REMOVE_FROM_BASKET':\r\n            const index = state.basket.findIndex(\r\n                (basketItem) => basketItem.id === action.id\r\n            );            \r\n            let newBasket = [...state.basket];\r\n            if(index >= 0){\r\n                newBasket.splice(index,1)\r\n            }\r\n            else{\r\n                console.warn(\"Cant Remove SHIT!\")\r\n            }\r\n\r\n            return {...state,\r\n                basket:newBasket}\r\n\r\n            case \"SET_USER\":\r\n                return{\r\n                    ...state,\r\n                    user:action.user\r\n                }\r\n            case \"EMPTY_BASKET\":\r\n                return{\r\n                    ...state,\r\n                    basket:[]\r\n                }\r\n        default:\r\n            return  state\r\n    }\r\n};\r\n\r\nexport default reducer;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport reducer,{initialState} from './reducer'\nimport {StateProvider} from './StateProvider'\nReactDOM.render(\n  <React.StrictMode>\n    <StateProvider reducer={reducer}  initialState={initialState} > \n      <App />\n    </StateProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}